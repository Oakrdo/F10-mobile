-- Script para dropar APENAS o item na m√£o (Trigon)
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

-- Aguardar personagem carregar
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

-- Fun√ß√£o para dropar SOMENTE o item na m√£o
local function dropItemInHand()
    -- Procurar por ferramentas no personagem (na m√£o)
    local itemInHand = nil
    
    -- Verificar em todas as partes do personagem
    for _, child in pairs(Character:GetChildren()) do
        if child:IsA("Tool") then
            itemInHand = child
            break
        end
    end
    
    -- Se n√£o encontrou, verificar se est√° como filho direto do Humanoid (equipado)
    if not itemInHand then
        local humanoid = Character:FindFirstChild("Humanoid")
        if humanoid then
            itemInHand = humanoid:FindFirstChildOfClass("Tool")
        end
    end
    
    if not itemInHand then
        print("‚ùå Nenhum item na m√£o para dropar")
        return
    end
    
    print("‚úÖ Encontrado item na m√£o: " .. itemInHand.Name)
    
    -- Salvar a posi√ß√£o atual do item (se tiver Handle)
    local itemHandle = itemInHand:FindFirstChild("Handle") or itemInHand.PrimaryPart
    
    -- Remover o item do personagem
    itemInHand.Parent = Workspace
    
    -- Posicionar o item no ch√£o (n√£o abaixo do mapa)
    if itemHandle then
        -- Calcular posi√ß√£o na frente do jogador, NO CH√ÉO
        local dropPosition = HumanoidRootPart.Position + (HumanoidRootPart.CFrame.LookVector * 4)
        
        -- Ajustar Y para ficar no ch√£o
        local rayOrigin = Vector3.new(dropPosition.X, HumanoidRootPart.Position.Y + 5, dropPosition.Z)
        local rayDirection = Vector3.new(0, -50, 0)
        local raycastParams = RaycastParams.new()
        raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
        raycastParams.FilterDescendantsInstances = {Character, itemInHand}
        
        local raycastResult = Workspace:Raycast(rayOrigin, rayDirection, raycastParams)
        
        if raycastResult then
            -- Posicionar no ch√£o encontrado
            itemHandle.CFrame = CFrame.new(raycastResult.Position + Vector3.new(0, 2, 0))
        else
            -- Se n√£o encontrar ch√£o, usar posi√ß√£o padr√£o
            itemHandle.CFrame = CFrame.new(dropPosition.X, HumanoidRootPart.Position.Y - 2, dropPosition.Z)
        end
        
        -- Orientar o item corretamente
        itemHandle.CFrame = CFrame.new(itemHandle.Position) * CFrame.Angles(0, math.rad(90), 0)
        
        -- Adicionar f√≠sica para n√£o cair infinitamente
        task.wait(0.1)
        
        -- Garantir que o item fique no lugar
        local bodyPosition = Instance.new("BodyPosition")
        bodyPosition.Position = itemHandle.Position
        bodyPosition.MaxForce = Vector3.new(4000, 4000, 4000)
        bodyPosition.P = 10000
        bodyPosition.Parent = itemHandle
        
        local bodyGyro = Instance.new("BodyGyro")
        bodyGyro.MaxTorque = Vector3.new(4000, 4000, 4000)
        bodyGyro.P = 10000
        bodyGyro.CFrame = itemHandle.CFrame
        bodyGyro.Parent = itemHandle
        
        -- Remover ap√≥s 0.5 segundos para o item cair naturalmente
        game:GetService("Debris"):AddItem(bodyPosition, 0.5)
        game:GetService("Debris"):AddItem(bodyGyro, 0.5)
        
        print("‚úÖ Item dropado no ch√£o: " .. itemInHand.Name)
    end
end

-- Criar bot√£o na tela (opcional)
local function createDropButton()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "TrigonDropGUI"
    screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
    
    local dropButton = Instance.new("TextButton")
    dropButton.Name = "DropHandButton"
    dropButton.Size = UDim2.new(0, 140, 0, 60)
    dropButton.Position = UDim2.new(0.92, -150, 0.88, 0)
    dropButton.Text = "‚úã DROP DA M√ÉO"
    dropButton.BackgroundColor3 = Color3.fromRGB(59, 153, 252)
    dropButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    dropButton.Font = Enum.Font.GothamBold
    dropButton.TextSize = 16
    dropButton.Parent = screenGui
    
    dropButton.MouseButton1Click:Connect(dropItemInHand)
    
    return dropButton
end

-- Inicializar
local dropButton = createDropButton()
print("‚úÖ Script Trigon - Drop da M√£o carregado!")
print("üéÆ Clique no bot√£o azul para dropar APENAS o item na sua m√£o")

-- Tamb√©m pode usar tecla se quiser (opcional)
local UIS = game:GetService("UserInputService")
UIS.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.G then -- Pressione G para dropar
        dropItemInHand()
    end
end)